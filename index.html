<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KAIROS GHILOFOU - LIVE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@300;500;700&display=swap');
        body { background: radial-gradient(circle at center, #1e293b, #0f172a); font-family: 'Rajdhani', sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .lcd-text { font-family: 'Orbitron', sans-serif; text-shadow: 0 0 10px rgba(56, 189, 248, 0.5); }
    </style>
</head>
<body class="text-slate-200 min-h-screen p-4 flex flex-col items-center">

    <header class="w-full max-w-4xl flex flex-col md:flex-row justify-between items-center mb-8 glass p-6 rounded-3xl">
        <div class="flex items-center gap-4">
            <div class="bg-sky-500/20 p-3 rounded-2xl border border-sky-500/50">
                <i class="fa-solid fa-mountain-sun text-4xl text-sky-400"></i>
            </div>
            <div>
                <h1 class="text-3xl font-bold tracking-tighter">ΓΗΛΟΦΟΣ <span class="text-sky-400">1050μ</span></h1>
                <p class="text-xs text-slate-400 uppercase tracking-widest">Μετεωρολογικός Σταθμός - LIVE</p>
            </div>
        </div>
        <div class="text-right mt-4 md:mt-0">
            <p id="date-display" class="text-sm font-medium"></p>
            <p id="clock-display" class="text-2xl font-bold text-sky-400 lcd-text"></p>
        </div>
    </header>

    <main class="w-full max-w-4xl grid grid-cols-2 md:grid-cols-4 gap-4">
        
        <div class="col-span-2 md:col-span-2 glass rounded-3xl p-6 relative overflow-hidden border-t-8 border-sky-500">
            <p class="text-xs text-sky-300 tracking-widest mb-2 uppercase">Θερμοκρασία</p>
            <div class="flex items-center justify-between">
                <h2 id="temp" class="text-7xl font-bold lcd-text">--°C</h2>
                <i class="fa-solid fa-thermometer-half text-5xl text-sky-500/30"></i>
            </div>
            <p class="text-xs mt-4 text-slate-400"><i class="fa-solid fa-location-dot"></i> Γήλοφος Γρεβενών (1050μ)</p>
        </div>

        <div class="glass rounded-3xl p-6 border-b-8 border-blue-400 text-center">
            <p class="text-xs text-blue-300 tracking-widest mb-2">ΥΓΡΑΣΙΑ</p>
            <i class="fa-solid fa-droplet text-4xl text-blue-400 mb-2"></i>
            <h2 id="hum" class="text-3xl font-bold">--%</h2>
        </div>

        <div class="glass rounded-3xl p-6 border-b-8 border-emerald-400 text-center">
            <p class="text-xs text-emerald-300 tracking-widest mb-2">ΠΙΕΣΗ</p>
            <i class="fa-solid fa-gauge-high text-4xl text-emerald-400 mb-2"></i>
            <h2 id="pres" class="text-3xl font-bold">-- hPa</h2>
        </div>

        <div class="glass rounded-3xl p-6 border-b-8 border-orange-400 text-center">
            <p class="text-xs text-orange-300 tracking-widest mb-2">ΑΝΕΜΟΣ</p>
            <i class="fa-solid fa-wind text-4xl text-orange-400 mb-2"></i>
            <h2 id="wind" class="text-2xl font-bold">-- km/h</h2>
            <p id="wind-dir-text" class="text-[10px] font-bold text-orange-100 italic uppercase mt-1">--</p>
        </div>

        <div class="glass rounded-3xl p-6 border-b-8 border-slate-500 text-center">
            <p class="text-xs text-slate-400 tracking-widest mb-2">UPDATE</p>
            <i class="fa-solid fa-clock-rotate-left text-4xl text-slate-400 mb-2"></i>
            <h2 id="update" class="text-xl font-bold text-slate-300">--:--</h2>
        </div>

    </main>

    <footer class="mt-8 text-slate-500 text-[10px] uppercase tracking-[0.3em]">
        Ghilofos Grevenon Weather Station &copy; 2026
    </footer>

    <script>
        function updateClock() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString('el-GR', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
            const dateStr = now.toLocaleDateString('el-GR', { weekday: 'long', day: 'numeric', month: 'long' });
            document.getElementById('clock-display').textContent = timeStr;
            document.getElementById('date-display').textContent = dateStr;
        }
        setInterval(updateClock, 1000);
        updateClock();

        async function loadWeather() {
            try {
                const response = await fetch('data.json?v=' + Date.now());
                const data = await response.json();
                
                document.getElementById('temp').innerText = data.temperature + "°C";
                document.getElementById('hum').innerText = data.humidity + "%";
                document.getElementById('pres').innerText = data.pressure;
                document.getElementById('wind').innerText = data.wind_speed + " km/h";
                document.getElementById('update').innerText = data.last_update;

                // Μετατροπή μοιρών σε λέξεις
                const degrees = data.wind_dir;
                let direction = "---";
                if (degrees !== undefined) {
                    if (degrees > 337.5 || degrees <= 22.5) direction = "ΒΟΡΕΙΟΣ";
                    else if (degrees > 22.5 && degrees <= 67.5) direction = "ΒΑΝΑΤΟΛΙΚΟΣ";
                    else if (degrees > 67.5 && degrees <= 112.5) direction = "ΑΝΑΤΟΛΙΚΟΣ";
                    else if (degrees > 112.5 && degrees <= 157.5) direction = "ΝΑΝΑΤΟΛΙΚΟΣ";
                    else if (degrees > 157.5 && degrees <= 202.5) direction = "ΝΟΤΙΟΣ";
                    else if (degrees > 202.5 && degrees <= 247.5) direction = "ΝΔΥΤΙΚΟΣ";
                    else if (degrees > 247.5 && degrees <= 292.5) direction = "ΔΥΤΙΚΟΣ";
                    else if (degrees > 292.5 && degrees <= 337.5) direction = "ΒΔΥΤΙΚΟΣ";
                }
                document.getElementById('wind-dir-text').innerText = direction;

            } catch (error) {
                console.log("Σφάλμα φόρτωσης:", error);
            }
        }
        loadWeather();
        setInterval(loadWeather, 60000); // Ανανέωση κάθε λεπτό
    </script>
</body>
</html>
